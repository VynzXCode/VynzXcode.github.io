<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protected Content</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #fff;
            min-height: 100vh;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .content {
            max-width: 800px;
            margin: 0 auto;
        }

        #protectionOverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 2147483647;
            display: none;
            pointer-events: none;
            opacity: 1;
            transition: opacity 0.1s ease;
        }

        @media print {
            body * {
                visibility: hidden;
            }
            #protectionOverlay {
                visibility: visible;
                display: block !important;
            }
        }
    </style>
</head>
<body>
    <div class="content">
        <h1>Contoh Konten Website</h1>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
        <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        <!-- Tambahkan konten website Anda di sini -->
    </div>

    <div id="protectionOverlay"></div>

    <script>
        class ScreenshotProtection {
            constructor() {
                this.overlay = document.getElementById('protectionOverlay');
                this.isProtecting = false;
                this.lastVolumePress = 0;
                this.lastPowerPress = 0;
                this.setupProtection();
            }

            protect() {
                if (!this.isProtecting) {
                    this.isProtecting = true;
                    this.overlay.style.display = 'block';
                    this.overlay.style.opacity = '1';

                    setTimeout(() => {
                        this.overlay.style.opacity = '0';
                        setTimeout(() => {
                            this.overlay.style.display = 'none';
                            this.isProtecting = false;
                        }, 100);
                    }, 1000);
                }
            }

            setupProtection() {
                // Windows PrintScreen detection
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'PrintScreen' || 
                        e.code === 'PrintScreen' || 
                        (e.key === 'PrintScreen' && e.getModifierState('Meta'))) {
                        e.preventDefault();
                        this.protect();
                    }
                });

                // Mobile screenshot detection
                if (/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                    // Power button event (screen lock)
                    document.addEventListener('visibilitychange', () => {
                        const now = Date.now();
                        if (document.visibilityState === 'hidden') {
                            this.lastPowerPress = now;
                        } else if (now - this.lastVolumePress < 1000) {
                            this.protect();
                        }
                    });

                    // Volume button events
                    window.addEventListener('volumechange', () => {
                        const now = Date.now();
                        this.lastVolumePress = now;
                        if (now - this.lastPowerPress < 1000) {
                            this.protect();
                        }
                    });

                    // Additional detection for volume + power combination
                    let lastKeyTime = 0;
                    let powerPressed = false;
                    let volumePressed = false;

                    document.addEventListener('keydown', (e) => {
                        const now = Date.now();
                        if (e.key === 'Power' || e.key === 'Sleep') {
                            powerPressed = true;
                            lastKeyTime = now;
                        }
                        if (e.key === 'VolumeDown') {
                            volumePressed = true;
                            lastKeyTime = now;
                        }
                        if (powerPressed && volumePressed && (now - lastKeyTime < 500)) {
                            this.protect();
                        }
                    });

                    document.addEventListener('keyup', () => {
                        powerPressed = false;
                        volumePressed = false;
                    });

                    // Three finger swipe detection
                    let touchStartY = 0;
                    document.addEventListener('touchstart', (e) => {
                        if (e.touches.length >= 3) {
                            touchStartY = e.touches[0].clientY;
                        }
                    });

                    document.addEventListener('touchmove', (e) => {
                        if (e.touches.length >= 3) {
                            const deltaY = e.touches[0].clientY - touchStartY;
                            if (Math.abs(deltaY) > 50) {
                                this.protect();
                            }
                        }
                    });

                    // Screen capture API detection (if available)
                    if (navigator.mediaDevices && navigator.mediaDevices.getDisplayMedia) {
                        navigator.mediaDevices.getDisplayMedia = new Proxy(
                            navigator.mediaDevices.getDisplayMedia,
                            {
                                apply: (target, thisArg, args) => {
                                    this.protect();
                                    return target.apply(thisArg, args);
                                }
                            }
                        );
                    }
                }

                // Prevent standard ways to capture content
                document.addEventListener('contextmenu', e => e.preventDefault());
                document.addEventListener('selectstart', e => e.preventDefault());
                document.addEventListener('copy', e => e.preventDefault());
                document.addEventListener('dragstart', e => e.preventDefault());
                
                // Additional mobile-specific events
                window.addEventListener('resize', () => {
                    if (document.visibilityState === 'hidden') {
                        this.protect();
                    }
                });
            }
        }

        // Initialize protection
        document.addEventListener('DOMContentLoaded', () => {
            new ScreenshotProtection();
        });
    </script>
</body>
</html>
