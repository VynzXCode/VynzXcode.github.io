<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protected Content</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #fff;
            min-height: 100vh;
        }

        .content {
            max-width: 800px;
            margin: 0 auto;
        }

        #protectionOverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 9999;
            display: none;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div class="content">
        <h1>Contoh Konten Website</h1>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
        <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        <!-- Tambahkan konten website Anda di sini -->
    </div>

    <div id="protectionOverlay"></div>

    <script>
        class ScreenshotProtection {
            constructor() {
                this.overlay = document.getElementById('protectionOverlay');
                this.isProtecting = false;
                this.setupListeners();
            }

            showProtection() {
                if (!this.isProtecting) {
                    this.isProtecting = true;
                    this.overlay.style.display = 'block';
                    
                    setTimeout(() => {
                        this.overlay.style.display = 'none';
                        this.isProtecting = false;
                    }, 1000);
                }
            }

            setupListeners() {
                // Deteksi screenshot menggunakan clipboard
                document.addEventListener('copy', (e) => {
                    this.showProtection();
                });

                // Deteksi PrintScreen dan shortcut screenshot
                window.addEventListener('keyup', (e) => {
                    if (e.key === 'PrintScreen' || 
                        e.code === 'PrintScreen' || 
                        (e.key === 'KeyP' && e.ctrlKey) ||
                        (e.metaKey && e.shiftKey && (e.key === '3' || e.key === '4'))) {
                        this.showProtection();
                    }
                });

                window.addEventListener('keydown', (e) => {
                    if ((e.ctrlKey || e.metaKey) && e.shiftKey && 
                        (e.key === 'S' || e.code === 'KeyS' || 
                         e.key === '3' || e.key === '4')) {
                        this.showProtection();
                    }
                });

                // Deteksi screenshot mobile
                let touchStartTime = 0;
                let touchCount = 0;

                document.addEventListener('touchstart', (e) => {
                    touchCount = e.touches.length;
                    touchStartTime = Date.now();
                });

                document.addEventListener('touchend', () => {
                    const touchDuration = Date.now() - touchStartTime;
                    if ((touchCount >= 2 && touchDuration < 500) || 
                        (touchCount === 3)) {
                        this.showProtection();
                    }
                });

                // Tambahan deteksi untuk browser modern
                if (navigator.permissions && navigator.permissions.query) {
                    navigator.permissions.query({ name: 'screenshots' }).then(result => {
                        result.addEventListener('change', () => {
                            if (result.state === 'granted') {
                                this.showProtection();
                            }
                        });
                    }).catch(() => {
                        // Browser tidak mendukung deteksi screenshot permissions
                    });
                }

                // Deteksi window blur (saat user beralih ke tool screenshot)
                window.addEventListener('blur', () => {
                    if (document.hasFocus()) {
                        this.showProtection();
                    }
                });

                // Mencegah pemilihan teks (optional)
                document.addEventListener('selectstart', (e) => {
                    e.preventDefault();
                });
            }
        }

        // Inisialisasi protection
        document.addEventListener('DOMContentLoaded', () => {
            new ScreenshotProtection();
        });
    </script>
</body>
</html>
